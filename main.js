(()=>{"use strict";const e=(()=>{let e=[];return{projects:e,addProject:t=>{e.push(t)},removeProject:t=>{const n=e.findIndex((e=>e.getProjectName()===t.getProjectName()));e.splice(n,1)},outputProjects:()=>{let t=0;if(0!==e.length){console.log("Projects: ");for(const n of e)console.log(`${t}) ${n.getProjectName()}`),t++}else console.log("There are 0 projects")}}})(),t=(e,t)=>{let n=e,o=t;return{getProjectName:()=>n,getProjectColor:()=>o}},n=(()=>{let e=[];return{addTask:t=>{e.push(t)},removeTask:t=>{e=e.filter((e=>e.getTitle()!==t))},outputTasks:()=>{if(0!==e.length)for(let t=0;t<e.length;t++)console.log(`${t}) ${e[t].getTitle()}, ${e[t].getDescription()}, ${e[t].getDueDate()}, ${e[t].getProject().getProjectName()}`);else console.log("There are 0 tasks")},getTasks:()=>e}})(),o=(e,t,n,o,l)=>{let s=e,c=t,d=n,a=o,r=Boolean(l);return{getTitle:()=>s,getDescription:()=>c,getDueDate:()=>d,getProject:()=>a,getCompletion:()=>r,toggleTaskCompletion:()=>{r=!r}}},l=(()=>{const t=()=>{const e=n.getTasks();for(const t of e)s(t);c()},l=()=>{const e=document.getElementById("main-content");for(;e.lastChild;)e.lastChild.remove()},s=e=>{const t=e.getTitle().replace(/\s+/g,"-"),n=document.getElementById("main-content"),o=document.createElement("div");o.classList.add("task-card"),o.innerHTML=`\n                <div class="card-left-side">\n                    <div>\n                        <h2>${e.getTitle()}</h2>\n                        <h3>${e.getDescription()}</h3>\n                    </div>\n                    \n                </div>\n                <div class="card-right-side">\n                    <h3>Project: ${e.getProject().getProjectName()} | Due: ${e.getDueDate()}</h3>\n                    <div>\n                        <span id="${t}-complete" class="complete-task material-symbols-outlined">\n                            done\n                        </span>\n                        <span id="${t}-edit" class="edit-task material-symbols-outlined">\n                            edit_note\n                        </span>\n                        <span id="${t}-delete" class="delete-task material-symbols-outlined">\n                            delete\n                        </span>\n                    </div>\n                </div>\n            `,n.appendChild(o),document.getElementById(`${t}-complete`).addEventListener("click",g),document.getElementById(`${t}-edit`).addEventListener("click",m),document.getElementById(`${t}-delete`).addEventListener("click",i)},c=()=>{document.getElementById("open-task-form").addEventListener("click",d)},d=()=>{const t=document.createElement("select");t.name="",t.id="";for(const n of e.projects){let e=document.createElement("option");e.value=n,e.text=`${n.getProjectName()}`,t.appendChild(e)}let n=document.createElement("label");n.textContent="Choose Project",document.querySelector(".form-inputs").appendChild(n).appendChild(t),document.getElementById("task-form").style.display="block",document.getElementById("task-submit").addEventListener("click",r),document.querySelector(".task-cancel").addEventListener("click",a)},a=()=>{document.getElementById("task-form").style.display="none",document.querySelector(".form-inputs").lastChild.remove()},r=e=>{e.preventDefault();let t=document.getElementById("task-name").value,l=document.getElementById("task-description").value,c=document.getElementById("task-date").value,d=document.getElementById("task-project").value;const r=o(t,l,c,d,!1);n.addTask(r),s(r),a()},i=e=>{l();const o=e.target.id.split("-");o.pop();const s=o.join(" ");n.removeTask(s),t()},m=e=>{console.log(e.target.id)},g=e=>{console.log(e.target.id)};return{loadInitialTasks:t,displayProjectTasks:e=>{l();const o=n.getTasks();if("all"===e.target.id)return void t();const c=e.target.id.replace("-",/\s+/g),d=o.filter((e=>e.getProject().getProjectName().toString()===c));for(const e of d)s(e)}}})(),s=(()=>{const n=e=>{const t=document.getElementById("project-buttons"),n=document.createElement("h3");n.innerHTML=`<span class="project-icon material-symbols-outlined">\n            folder\n            </span>${e.getProjectName()}`,n.style.color=`${e.getProjectColor()}`,n.id=`${e.getProjectName().replace(/\s+/g,"-")}`,n.addEventListener("click",l.displayProjectTasks),t.appendChild(n)},o=()=>{document.getElementById("open-project-form").addEventListener("click",s)},s=()=>{document.getElementById("project-form").style.display="block",document.getElementById("project-submit").addEventListener("click",d),document.querySelector(".cancel").addEventListener("click",c)},c=()=>{document.getElementById("project-form").style.display="none"},d=o=>{o.preventDefault();let l=document.getElementById("project-name").value,s=document.getElementById("project-color").value;const d=t(l,s);console.log(d.getProjectColor()),e.addProject(d),c(),n(d)};return{displaySidebar:()=>{(()=>{const t=document.getElementById("project-buttons"),s=document.createElement("h3");s.innerHTML='<span class="project-icon material-symbols-outlined">\n            folder\n            </span>All Tasks',s.id="all",s.addEventListener("click",l.displayProjectTasks),t.appendChild(s);for(const t of e.projects)n(t);o()})()}}})(),c=t("School","blue"),d=t("Work","white");e.addProject(c),e.addProject(d);const a=o("Do the dishes","Clean all the dishes in the sink and dry them","IDK",c,!0),r=o("Anthony","Bishop","IDK",c,!0),i=o("Mike","Burrington","Date",d,!0);n.addTask(a),n.addTask(r),n.addTask(i),s.displaySidebar(),l.loadInitialTasks()})();